<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
    <script src="http://cdn.bootcss.com/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>

</head>
<body>
<button  class="send_Ajax">选号</button>
<input type="checkbox" id="jiou" name="analysis">奇偶分析</input>
    <input type="checkbox" id="daxiao" name="analysis">大小分析</input>
    <input type="checkbox" id="zhishu" name="analysis">质数分析</input>
    <input type="checkbox" id="hezhi" name="analysis">和值分析</input>
    <input type="checkbox" id="ac" name="analysis">ac值分析</input>
    <input type="checkbox" id="sandu" name="analysis">散度分析</input>
    <input type="checkbox" id="qujian3" name="analysis">3区间偏态分析</input>
    <table class="table">
        <tr>
            <th colspan="6">红球号码</th>
            <th>篮球号码</th>
        </tr>
        {% for num in num_list %}
            <tr>
                <td>{{ num.red01 }}</td>
                <td>{{ num.red02 }}</td>
                <td>{{ num.red03 }}</td>
                <td>{{ num.red04 }}</td>
                <td>{{ num.red05 }}</td>
                <td>{{ num.red06 }}</td>
                <td>{{ num.blue01 }}</td>
            </tr>
        {% endfor %}
    </table>
    <div id="analysisResultInfo"></div>
</body>
<script>


       $(".send_Ajax").click(function(){
           $.ajax({
                url :"{% url 'get_the_num:testData' %}",
                type:'GET',
                data:{
                    jiouFlg:$('#jiou').prop('checked'),
                    daxiaoFlg:$('#daxiao').prop('checked'),
                    zhishuFlg:$('#zhishu').prop('checked'),
                    hezhiFlg:$('#hezhi').prop('checked'),
                    acFlg:$('#ac').prop('checked'),
                    sanduFlg:$('#sandu').prop('checked'),
                    qujian3Flg:$('#qujian3').prop('checked')
                },
                dataType:'JSON',
                success:function (responseJson) {

                    //var v = JSON.parse(arg.data);
                    dataHtmlTH="<tr><th colspan='6'>红球号码</th><th>篮球号码</th></tr>"
                    dataHtml=""
                    arg=responseJson.data
                    for(var i=0;i<arg.length;i++){
                        dataHtml=dataHtml+"<tr><td>"+arg[i].fields.red01+"</td><td>"+arg[i].fields.red02+"</td><td>"+arg[i].fields.red03+"</td><td>"+arg[i].fields.red04+"</td><td>"+arg[i].fields.red05+"</td><td>"+arg[i].fields.red06+"</td><td>"+arg[i].fields.blue01+"</tr>"
                    }
                    $(".table").html(dataHtmlTH+dataHtml)
                    var msg=eval(responseJson.analysisInfo)
                    var showMsg=""

                    Object.values(responseJson.analysisInfo).forEach(function(v) {
                        showMsg=showMsg+v+"<br/>"
                    });

                    {#for (var i=0;i<msg.length;i++) {#}
                    {#    showMsg=showMsg+msg[i].value+"<br/>"#}
                    {#}#}
                    $("#analysisResultInfo").html(showMsg)
                    {#var arrChk=$("input[name='chk_list'][checked]");#}
                    {#$(arrChk).each(function(){#}
                    {##}
                    {#});#}

                }

            })
           });
</script>
</html>